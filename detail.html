<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>{{title}} - ãƒ•ãƒªãƒ¼ç”»åƒç´ æé›†</title>
  <meta name="description" content="{{title}} - {{category}}ã‚«ãƒ†ã‚´ãƒªã®ãƒ•ãƒªãƒ¼ç”»åƒç´ æã€‚ã‚²ãƒ¼ãƒ é–‹ç™ºã«æœ€é©ãªé«˜å“è³ªç´ æã‚’ç„¡æ–™ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã€‚å•†ç”¨åˆ©ç”¨å¯èƒ½ã€‚">
  <meta name="keywords" content="{{tags}},ãƒ•ãƒªãƒ¼ç´ æ,ã‚²ãƒ¼ãƒ ç´ æ,{{category}},ç„¡æ–™ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰,å•†ç”¨åˆ©ç”¨å¯èƒ½">
  <meta name="author" content="Free Game Materials">
  <meta property="og:title" content="{{title}} - ãƒ•ãƒªãƒ¼ç”»åƒç´ æé›†">
  <meta property="og:description" content="{{title}} - {{category}}ã‚«ãƒ†ã‚´ãƒªã®ãƒ•ãƒªãƒ¼ç”»åƒç´ æã€‚ã‚²ãƒ¼ãƒ é–‹ç™ºã«æœ€é©ãªé«˜å“è³ªç´ æã‚’ç„¡æ–™ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã€‚">
  <meta property="og:type" content="article">
  <meta property="og:url" content="https://yohyama0216.github.io/free-image-material/items/{{slug}}/">
  <meta property="og:image" content="https://yohyama0216.github.io/free-image-material/{{originalPath}}">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="{{title}} - ãƒ•ãƒªãƒ¼ç”»åƒç´ æé›†">
  <meta name="twitter:description" content="{{title}} - {{category}}ã‚«ãƒ†ã‚´ãƒªã®ãƒ•ãƒªãƒ¼ç”»åƒç´ æ">
  <meta name="twitter:image" content="https://yohyama0216.github.io/free-image-material/{{originalPath}}">
  <link rel="canonical" href="https://yohyama0216.github.io/free-image-material/items/{{slug}}/">
  <link rel="icon" href="data:," />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body>
<!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
  <div class="container">
    <a class="navbar-brand fw-bold" href="../../">
      ğŸ® Free Game Materials
    </a>
    <div class="navbar-nav ms-auto">
      <a class="nav-link" href="../../">â† ç´ æä¸€è¦§ã«æˆ»ã‚‹</a>
    </div>
  </div>
</nav>

<!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
<main class="py-4">
  <div class="container">
    <!-- ãƒ‘ãƒ³ããšãƒŠãƒ“ -->
    <nav aria-label="breadcrumb" class="mb-4">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="../../" class="text-decoration-none">ãƒ›ãƒ¼ãƒ </a></li>
        <li class="breadcrumb-item"><a href="../../?category={{category}}" class="text-decoration-none">{{category}}</a></li>
        <li class="breadcrumb-item active" aria-current="page">{{title}}</li>
      </ol>
    </nav>

    <div class="row">
      <!-- ç”»åƒè¡¨ç¤ºã‚¨ãƒªã‚¢ -->
      <div class="col-lg-8">
        <div class="card shadow-sm">
          <div class="card-body">
            <img src="../../{{originalPath}}" alt="{{title}}" class="img-fluid rounded mb-3" style="width: 100%; max-height: 500px; object-fit: contain; background-color: #f8f9fa;">
            
            <!-- ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒœã‚¿ãƒ³ -->
            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
              <a href="../../{{originalPath}}" download="{{filename}}" class="btn btn-primary btn-lg">
                <i class="bi bi-download"></i> é«˜è§£åƒåº¦ç‰ˆã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
              </a>
            </div>
          </div>
        </div>
      </div>

      <!-- è©³ç´°æƒ…å ± -->
      <div class="col-lg-4">
        <div class="card shadow-sm">
          <div class="card-header">
            <h1 class="h4 mb-0">{{title}}</h1>
          </div>
          <div class="card-body">
            <!-- åŸºæœ¬æƒ…å ± -->
            <div class="mb-3">
              <h6 class="fw-semibold text-muted">åŸºæœ¬æƒ…å ±</h6>
              <ul class="list-unstyled mb-0">
                <li><strong>ã‚«ãƒ†ã‚´ãƒª:</strong> <span class="badge bg-primary">{{category}}</span></li>
                <li><strong>ã‚µã‚¤ã‚º:</strong> {{width}} Ã— {{height}} px</li>
                <li><strong>ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼:</strong> {{format}}</li>
                <li><strong>ãƒ©ã‚¤ã‚»ãƒ³ã‚¹:</strong> <span class="badge bg-success">{{license}}</span></li>
              </ul>
            </div>

            <!-- ã‚¿ã‚° -->
            <div class="mb-3">
              <h6 class="fw-semibold text-muted">ã‚¿ã‚°</h6>
              <div class="d-flex flex-wrap gap-1">
                {{#each tags}}
                <a href="../../?tag={{this}}" class="badge bg-light text-dark text-decoration-none">{{this}}</a>
                {{/each}}
              </div>
            </div>

            <!-- åˆ©ç”¨æ¡ä»¶ -->
            <div class="mb-3">
              <h6 class="fw-semibold text-muted">åˆ©ç”¨æ¡ä»¶</h6>
              <ul class="list-unstyled text-success">
                <li>âœ“ å•†ç”¨åˆ©ç”¨å¯èƒ½</li>
                <li>âœ“ ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆè¡¨è¨˜ä¸è¦</li>
                <li>âœ“ åŠ å·¥ãƒ»æ”¹å¤‰OK</li>
                <li>âœ“ å†é…å¸ƒå¯èƒ½</li>
              </ul>
            </div>

            <!-- èª¬æ˜æ–‡ -->
            {{#if description}}
            <div class="mb-3">
              <h6 class="fw-semibold text-muted">èª¬æ˜</h6>
              <p class="text-muted">{{description}}</p>
            </div>
            {{/if}}
          </div>
        </div>

        <!-- é–¢é€£ç´ æ -->
        <div class="card shadow-sm mt-4">
          <div class="card-header">
            <h6 class="mb-0">é–¢é€£ã™ã‚‹ç´ æ</h6>
          </div>
          <div class="card-body">
            <div id="relatedItems" class="row g-2">
              <!-- é–¢é€£ç´ æãŒå‹•çš„ã«è¡¨ç¤ºã•ã‚Œã‚‹ -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>

<!-- ãƒ•ãƒƒã‚¿ãƒ¼ -->
<footer class="bg-dark text-white py-4 mt-5">
  <div class="container">
    <div class="row">
      <div class="col-md-6">
        <h5>Free Game Materials</h5>
        <p class="text-muted">ã‚²ãƒ¼ãƒ é–‹ç™ºã«æœ€é©ãªãƒ•ãƒªãƒ¼ç´ æã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚</p>
      </div>
      <div class="col-md-3">
        <h6>åˆ©ç”¨ã«ã¤ã„ã¦</h6>
        <ul class="list-unstyled">
          <li><small>âœ“ å•†ç”¨åˆ©ç”¨å¯èƒ½</small></li>
          <li><small>âœ“ ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆä¸è¦</small></li>
          <li><small>âœ“ åŠ å·¥ãƒ»æ”¹å¤‰OK</small></li>
        </ul>
      </div>
      <div class="col-md-3">
        <h6>ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³</h6>
        <ul class="list-unstyled">
          <li><a href="../../" class="text-light text-decoration-none">ç´ æä¸€è¦§</a></li>
          <li><a href="../../?category={{category}}" class="text-light text-decoration-none">{{category}}ä¸€è¦§</a></li>
        </ul>
      </div>
    </div>
    <hr class="my-3">
    <div class="text-center">
      <small class="text-muted">Â© 2025 Free Game Materials. All rights reserved.</small>
    </div>
  </div>
</footer>

<script>
// é–¢é€£ç´ æã‚’è¡¨ç¤º
(async function(){
  try {
    const res = await fetch("../../assets.json");
    const data = await res.json();
    const items = data.items || [];
    
    // ç¾åœ¨ã®ã‚¢ã‚¤ãƒ†ãƒ ã®ã‚«ãƒ†ã‚´ãƒªã¨ã‚¿ã‚°ã‚’å–å¾—
    const currentCategory = "{{category}}";
    const currentTags = [{{#each tags}}"{{this}}"{{#unless @last}},{{/unless}}{{/each}}];
    const currentSlug = "{{slug}}";
    
    // é–¢é€£ã‚¢ã‚¤ãƒ†ãƒ ã‚’æ¤œç´¢ï¼ˆåŒã˜ã‚«ãƒ†ã‚´ãƒªã¾ãŸã¯å…±é€šã‚¿ã‚°ã‚’æŒã¤ã‚‚ã®ï¼‰
    const relatedItems = items
      .filter(item => {
        if (item.slug === currentSlug) return false; // è‡ªåˆ†è‡ªèº«ã¯é™¤å¤–
        
        // åŒã˜ã‚«ãƒ†ã‚´ãƒªã¾ãŸã¯å…±é€šã‚¿ã‚°ãŒã‚ã‚‹å ´åˆ
        const hasCommonTag = currentTags.some(tag => item.tags.includes(tag));
        return item.category === currentCategory || hasCommonTag;
      })
      .slice(0, 6); // æœ€å¤§6å€‹ã¾ã§
    
    // é–¢é€£ç´ æã‚’è¡¨ç¤º
    const container = document.getElementById("relatedItems");
    if (relatedItems.length > 0) {
      container.innerHTML = relatedItems.map(item => `
        <div class="col-6">
          <a href="../${item.slug}/" class="text-decoration-none">
            <div class="card h-100">
              <img src="../../${item.thumb}" class="card-img-top" style="height: 80px; object-fit: cover;">
              <div class="card-body p-2">
                <h6 class="card-title small mb-1">${item.title}</h6>
                <small class="text-muted">${item.category}</small>
              </div>
            </div>
          </a>
        </div>
      `).join('');
    } else {
      container.innerHTML = '<p class="text-muted text-center">é–¢é€£ã™ã‚‹ç´ æã¯ã‚ã‚Šã¾ã›ã‚“</p>';
    }
  } catch (error) {
    console.error('Failed to load related items:', error);
  }
})();
</script>
</body>
</html>
